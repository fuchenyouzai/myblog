<!DOCTYPE html>
<html lang="zh-CN">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>悠哉的博客</title>

<!-- PWA Manifest -->
<link rel="manifest" href="/manifest.json">
<meta name="theme-color" content="#4CAF50">

<!-- iOS 安装支持 -->
<meta name="apple-mobile-web-app-capable" content="yes">
<meta name="apple-mobile-web-app-title" content="悠哉的博客">
<link rel="apple-touch-icon" href="/icon-192.png">

<style>
body{font-family:"Helvetica Neue",Arial,sans-serif;margin:0;padding:0;background:#f4f4f4;color:#333;}
header{background:#4CAF50;color:white;padding:20px 10px;text-align:center;}
main{max-width:800px;margin:20px auto;padding:0 10px;}
article{background:white;margin-bottom:20px;padding:20px;border-radius:10px;box-shadow:0 2px 5px rgba(0,0,0,0.1);}
h2{color:#4CAF50;}
img{max-width:100%;border-radius:5px;}
iframe{width:100%;border:none;border-radius:5px;}
audio{width:100%;margin-top:10px;}
footer{text-align:center;padding:15px;background:#333;color:white;margin-top:20px;}
.gallery{display:flex;flex-wrap:wrap;gap:10px;justify-content:center;}
.gallery img{width:30%;border-radius:5px;cursor:pointer;transition:transform 0.3s;}
.gallery img:hover{transform:scale(1.05);}
a.telegram-btn{display:inline-block;padding:10px 15px;background-color:#0088cc;color:white;border-radius:5px;text-decoration:none;}
a.telegram-btn:hover{background-color:#006699;}
a.admin-btn{display:inline-block;padding:10px 15px;background-color:#e53935;color:white;border-radius:5px;text-decoration:none;font-weight:bold;}
a.admin-btn:hover{background-color:#b71c1c;}

/* 响应式视频 */
.video-container {position: relative;width: 100%;padding-bottom: 56.25%;height: 0;overflow: hidden;border-radius: 5px;}
.video-container iframe {position: absolute;top: 0;left: 0;width: 100%;height: 100%;border: none;}

/* 文章内嵌视频 */
.article-video {position: relative;width: 100%;padding-bottom: 56.25%;height: 0;overflow: hidden;border-radius: 5px;margin: 10px 0;}
.article-video iframe {position: absolute;top: 0;left: 0;width: 100%;height: 100%;border: none;}

/* Android 安装按钮 */
#install-btn {
  position: fixed;
  bottom: 20px;
  right: 20px;
  z-index: 999;
  background-color: #4CAF50;
  color: white;
  padding: 12px 18px;
  border-radius: 6px;
  font-weight: bold;
  box-shadow: 0 4px 8px rgba(0,0,0,0.2);
  cursor: pointer;
  display: none;
  transition: background-color 0.3s, transform 0.2s;
}
#install-btn:hover { background-color: #388E3C; }
</style>
</head>
<body>

<header>
<h1>悠哉的博客</h1>
<p>分享我的生活与兴趣</p>
</header>

<main>

<!-- 博客文章示例 -->
<article>
<h2>我的第一篇博文</h2>
<p>这是我的第一篇博客文章，欢迎大家来到我的博客！我会分享生活、技术、旅行和各种有趣的内容。</p>
<img src="https://raw.githubusercontent.com/fuchenyouzai/youzai/main/t2.jpg" alt="示例图片">
</article>

<article>
<h2>旅行见闻</h2>
<p>上周我去了黄石公园，那里风景非常美，我拍了很多照片和视频想要分享给大家。</p>

<p>文章内视频示例：</p>
<div class="article-video">
  <iframe src="https://www.youtube.com/embed/dQw4w9WgXcQ" 
          title="黄石公园短视频" allow="fullscreen; autoplay; picture-in-picture" allowfullscreen>
  </iframe>
</div>

<p>这里继续文章内容，可以是文字描述、图片或其他说明：</p>
<img src="https://via.placeholder.com/400x200?text=示例图片" alt="示例图片">

<p>音乐分享：</p>
<audio controls preload="auto" controlsList="nodownload">
  <source src="https://www.soundhelix.com/examples/mp3/SoundHelix-Song-1.mp3" type="audio/mpeg">
您的浏览器不支持音频播放。
</audio>
</article>

<!-- 视频推荐 -->
<article>
<h2>视频推荐</h2>
<p>分享一个我喜欢的视频（点击播放即可）：</p>
<div class="video-container">
  <iframe src="https://www.youtube.com/embed/dQw4w9WgXcQ" 
          title="视频推荐" allow="fullscreen; autoplay; picture-in-picture" allowfullscreen>
  </iframe>
</div>
</article>

<!-- 凤凰卫视直播台 -->
<article>
<h2>凤凰卫视直播台</h2>
<p>正在播放凤凰卫视直播：</p>
<div class="video-container">
  <iframe src="https://www.youtube.com/embed/fN9uYWCjQaw?autoplay=1&mute=1" 
          title="凤凰卫视直播" allow="autoplay; fullscreen; picture-in-picture" allowfullscreen>
  </iframe>
</div>
</article>

<!-- 图片展示 -->
<article>
<h2>图片展示</h2>
<p>这里是我想分享的一些照片：</p>
<div class="gallery">
<img src="https://raw.githubusercontent.com/fuchenyouzai/youzai/main/t2.jpg" alt="图片1">
<img src="https://via.placeholder.com/300x200?text=图片2" alt="图片2">
<img src="https://via.placeholder.com/300x200?text=图片3" alt="图片3">
</div>
</article>

<!-- YouTube 频道入口 + 视频墙 -->
<article>
<h2>我的 YouTube</h2>
<p>点击下方按钮访问我的 YouTube 频道：</p>
<a href="https://www.youtube.com/@拂尘悠哉" target="_blank" class="telegram-btn">访问 YouTube</a>

<p style="margin-top:15px;">最新视频预览：</p>
<div id="youtube-feed" style="display:grid; grid-template-columns:repeat(auto-fit,minmax(200px,1fr)); gap:15px; margin-top:10px;"></div>
</article>

<!-- Gitalk 留言板 -->
<article>
<h2>留言板（Gitalk）</h2>
<div id="gitalk-container"></div>
<p style="margin-top:15px; text-align:right;">
  <a href="https://github.com/fuchenyouzai/youzai/issues" target="_blank" class="admin-btn">
    查看 GitHub 后台评论
  </a>
  <span style="color:#e53935; font-size:12px; margin-left:8px;">（仅站长使用）</span>
</p>
</article>

<!-- Disqus 留言板 -->
<article>
<h2>留言板（Disqus 中文）</h2>
<div id="disqus_thread"></div>
<script>
(function() { 
    var d = document, s = d.createElement('script');
    s.src = 'https://youzaibolg.disqus.com/embed.js';
    s.setAttribute('data-timestamp', +new Date());
    (d.head || d.body).appendChild(s);
})();
</script>
<noscript>请启用 JavaScript 查看 <a href="https://disqus.com/?ref_noscript">Disqus 评论</a></noscript>
</article>

<!-- Telegram 联系方式 -->
<article>
<h2>联系方式</h2>
<p>欢迎通过 Telegram 联系我：</p>
<a href="https://t.me/fuchenyouzaibot" target="_blank" class="telegram-btn">联系 Telegram</a>
</article>

</main>

<footer>
&copy; 2025 悠哉的博客
</footer>

<!-- 独立 PWA 安装按钮 -->
<button id="install-btn">📲 安装到桌面</button>

<!-- Gitalk -->
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/gitalk@1/dist/gitalk.css">
<script src="https://cdn.jsdelivr.net/npm/gitalk@1/dist/gitalk.min.js"></script>
<script>
document.addEventListener('DOMContentLoaded', () => {
  // Gitalk 初始化
  const gitalk = new Gitalk({
    clientID: 'Ov23lijfU0G3M7jiMFAW',
    clientSecret: '47120dd1810d3a2a9aa0033211f5ee73ef29baa3',
    repo: 'youzai',
    owner: 'fuchenyouzai',
    admin: ['fuchenyouzai'],
    id: location.pathname,
    distractionFreeMode: false,
    language: 'zh-CN'
  });
  gitalk.render('gitalk-container');

  // 图片点击放大
  document.querySelectorAll('.gallery img').forEach(img => {
    img.addEventListener('click', () => {
      const overlay = document.createElement('div');
      overlay.style.position = 'fixed';
      overlay.style.top = 0;
      overlay.style.left = 0;
      overlay.style.width = '100%';
      overlay.style.height = '100%';
      overlay.style.background = 'rgba(0,0,0,0.8)';
      overlay.style.display = 'flex';
      overlay.style.justifyContent = 'center';
      overlay.style.alignItems = 'center';
      overlay.style.cursor = 'pointer';
      overlay.innerHTML = `<img src="${img.src}" style="max-width:90%; max-height:90%; border-radius:5px;">`;
      overlay.addEventListener('click', () => document.body.removeChild(overlay));
      document.body.appendChild(overlay);
    });
  });

  // YouTube 视频墙
  const videos = [
    {id: "ZB9QSD_SWmM", type: "shorts", title: "最新 Shorts 视频"},
    {id: "dQw4w9WgXcQ", type: "video", title: "示例视频 1"},
    {id: "oHg5SJYRHA0", type: "video", title: "示例视频 2"}
  ];
  const feedContainer = document.getElementById("youtube-feed");
  if (feedContainer) {
    videos.forEach(v => {
      const wrapper = document.createElement("div");
      wrapper.style.display = "flex";
      wrapper.style.flexDirection = "column";
      wrapper.style.gap = "5px";

      const iframeWrapper = document.createElement("div");
      iframeWrapper.style.position = "relative";
      iframeWrapper.style.width = "100%";
      iframeWrapper.style.height = 0;
      iframeWrapper.style.overflow = "hidden";
      iframeWrapper.style.borderRadius = "5px";
      iframeWrapper.style.paddingBottom = v.type === "shorts" ? "177.78%" : "56.25%";

      iframeWrapper.innerHTML = `<iframe src="https://www.youtube.com/embed/${v.id}" 
              style="position:absolute;top:0;left:0;width:100%;height:100%;border:none;"
              title="${v.title}" allowfullscreen></iframe>`;

      const infoDiv = document.createElement("div");
      infoDiv.style.display = "flex";
      infoDiv.style.flexDirection = "column";
      infoDiv.style.alignItems = "center";
      infoDiv.style.gap = "5px";

      const titleEl = document.createElement("p");
      titleEl.textContent = v.title;
      titleEl.style.textAlign = "center";
      titleEl.style.margin = "0";
      titleEl.style.fontWeight = "bold";
      titleEl.style.fontSize = "14px";

      const btn = document.createElement("a");
      btn.href = `https://www.youtube.com/watch?v=${v.id}`;
      btn.target = "_blank";
      btn.textContent = "在 YouTube 上观看";
      btn.style.display = "inline-block";
      btn.style.padding = "5px 10px";
      btn.style.backgroundColor = "#ff0000";
      btn.style.color = "#fff";
      btn.style.borderRadius = "4px";
      btn.style.fontSize = "12px";
      btn.style.textDecoration = "none";

      infoDiv.appendChild(titleEl);
      infoDiv.appendChild(btn);

      wrapper.appendChild(iframeWrapper);
      wrapper.appendChild(infoDiv);

      feedContainer.appendChild(wrapper);
    });
  }

  // PWA Service Worker 注册
  if ('serviceWorker' in navigator) {
    navigator.serviceWorker.register('/sw.js')
      .then(registration => console.log('Service Worker 注册成功:', registration.scope))
      .catch(err => console.log('Service Worker 注册失败:', err));
  }

  // Android 安装按钮
  let deferredPrompt;
  const installBtn = document.getElementById('install-btn');
  window.addEventListener('beforeinstallprompt', (e) => {
    e.preventDefault();
    deferredPrompt = e;
    installBtn.style.display = 'block';
  });
  installBtn.addEventListener('click', () => {
    if (!deferredPrompt) return;
    deferredPrompt.prompt();
    deferredPrompt.userChoice.then(choice => {
      if (choice.outcome === 'accepted') console.log('用户接受安装');
      else console.log('用户拒绝安装');
      deferredPrompt = null;
      installBtn.style.display = 'none';
    });
  });

});
</script>

</body>
</html>